# Vue 组件库

## 知识

1. JSX 是一种 JavaScript 的语法插件，最早运用于 react 架构中，可以当作一种模板语言使用。

目前很多 Vue 的组件库都大量使用了 JSX 的语法，对于工程化搭建，要以开发者的使用习惯优先，建议支持。

2. Vue 组件库有两种引入形态：

- 完整引入：一次性引入全部组件，使用 Vue.use 以 Vue 的插件的形式引入；
- 按需引入：按需引入，导出单个组件，使用 Vue.component 注册。

组件库的形态结构需要满足下面要求：

- 默认导出 Vue 插件；
- 每个组件可以单独导出。

## 样式

1. 组件库通常需要搭建一个 CSS 子工程，用于实现自己的类型系统。

2. 2020 年一种叫做 AtomicCSS 的组件风格横空出世，代表作就是 TailwindCSS。

从组件库开发角度讲，使用 Tailwind 提供的样式系统，可以很好地降低 UI 库的开发难度。**利用原子化风格，完全就可以高效完成样式的定制，未必一定需要定制一套语义化样式系统。**

3. UnoCSS

- [Github](https://github.com/unocss/unocss)

4. 原子 CSS 的好处：**基本常用的属性定义都可以通过简单的字符串拼装完成。**

注意：**UnoCSS 默认是按需生成方式，即只生成代码中使用过的样式。** 如果在 class 属性中使用变量，是无法分析变量的取值的，也就无法动态生成样式的。

为了解决这个问题，UnoCSS 提供了安全列表选项。也就是说，把样式定义中变量的取值添加到 Safelist 中去。这样 UnoCSS 就会根据 Safelist 生成样式了。

### 图标

1. 在 UnoCSS 中引入图标，只需要加载 @unocss/preset-icons 预设就可以了

2. [iconfy](https://icones.js.org/)网站中有上万个字体图标可以选择。

## 文档

1. 使用 Vitepress 创建一个文档网站。

Vitepress 是一款基于 Vite 的静态站点生成工具。

优势是：

- 使用 Markdown 语法；
- vitepress 是基于 vite 的；
- 直接运行 Vue 的代码。

通常情况下，开发组件可以在 vitepress 调试代码。

2. 什么是 Markdown 插槽？

```md
:::slot name
:::
```

## 要点

1. 在软件工程中有这样一个概念：**一个完整的软件是文档和代码的组合体，** 不知道如何使用的代码是没有任何价值的。**项目文档的建设工作应该越早越好。**

2. markdown 插槽

```makefile
::: slot name
:::
```

3. 建议：用 vitepress 调试代码，这种方式非常理想：

- 方便调试；
- 同步编写文档。

4. Vue3 默认的包是不支持模板编译功能的，即不能使用 template 语法。

在 Vue3.0 中编译功能推荐在构建阶段完成，而不是放到浏览器中运行。如果希望在浏览器中的话，可以选择 ./node_modules/vue/dist/vue.global.js 这个包。
